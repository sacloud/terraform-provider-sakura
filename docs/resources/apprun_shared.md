---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "sakura_apprun_shared Resource - sakura"
subcategory: "Computing"
description: |-
  Manages an AppRun Shared Application(apprun_application in v2).
---

# sakura_apprun_shared (Resource)

Manages an AppRun Shared Application(apprun_application in v2).

## Example Usage

```terraform
resource "sakura_apprun_shared" "foobar" {
  name            = "foobar"
  timeout_seconds = 60
  port            = 8080
  min_scale       = 0
  max_scale       = 1
  components =[{
    name       = "foobar"
    max_cpu    = "0.1"
    max_memory = "256Mi"
    deploy_source = {
      container_registry = {
        image    = "foobar.sakuracr.jp/my-app:latest"
        //server   = "foobar.sakuracr.jp"
        //username = "username"
        //password = "userpassword"
      }
    }
    env = [{
      key   = "key"
      value = "value"
    }]
    probe = {
      http_get = {
        path = "/"
        port = 8080
        headers = [{
          name  = "name"
          value = "value"
        },
        {
          name  = "name2"
          value = "value2"
        }]
      }
    }
  }]
  traffics = [{
    version_index = 0
    percent       = 100
  }]
  packet_filter = {
    enabled = true
    settings = [{
      from_ip               = "192.0.2.0"
      from_ip_prefix_length = "24"
    }]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `components` (Attributes List) The AppRun Shared application component information (see [below for nested schema](#nestedatt--components))
- `max_scale` (Number) The maximum number of scales for the entire AppRun Shared application
- `min_scale` (Number) The minimum number of scales for the entire AppRun Shared application
- `name` (String) The name of the AppRun Shared.
- `port` (Number) The port number where the AppRun Shared application listens for requests
- `timeout_seconds` (Number) The time limit between accessing the AppRun Shared application's public URL, starting the instance, and receiving a response

### Optional

- `packet_filter` (Attributes) The packet filter for the AppRun Shared application (see [below for nested schema](#nestedatt--packet_filter))
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))
- `traffics` (Attributes List) The AppRun Shared application traffic (see [below for nested schema](#nestedatt--traffics))

### Read-Only

- `id` (String) The ID of the AppRun Shared
- `public_url` (String) The public URL of the AppRun Shared application
- `status` (String) The AppRun Shared application status

<a id="nestedatt--components"></a>
### Nested Schema for `components`

Required:

- `deploy_source` (Attributes) The sources that make up the component (see [below for nested schema](#nestedatt--components--deploy_source))
- `max_cpu` (String) The maximum number of CPUs for a component. The values in the list must be in [`0.1`/`0.2`/`0.3`/`0.4`/`0.5`/`0.6`/`0.7`/`0.8`/`0.9`/`1`]
- `max_memory` (String) The maximum memory of component. The values in the list must be in [`256Mi`/`512Mi`/`1Gi`/`2Gi`]
- `name` (String) The component name

Optional:

- `env` (Attributes Set) The environment variables passed to components (see [below for nested schema](#nestedatt--components--env))
- `probe` (Attributes) The component probe settings (see [below for nested schema](#nestedatt--components--probe))

<a id="nestedatt--components--deploy_source"></a>
### Nested Schema for `components.deploy_source`

Required:

- `container_registry` (Attributes) Container registry settings (see [below for nested schema](#nestedatt--components--deploy_source--container_registry))

<a id="nestedatt--components--deploy_source--container_registry"></a>
### Nested Schema for `components.deploy_source.container_registry`

Required:

- `image` (String) The container image name

Optional:

- `password` (String, Sensitive) The container registry credentials
- `server` (String) The container registry server name
- `username` (String) The container registry credentials



<a id="nestedatt--components--env"></a>
### Nested Schema for `components.env`

Required:

- `key` (String) The environment variable name
- `value` (String, Sensitive) environment variable value


<a id="nestedatt--components--probe"></a>
### Nested Schema for `components.probe`

Required:

- `http_get` (Attributes) HTTP probe settings (see [below for nested schema](#nestedatt--components--probe--http_get))

<a id="nestedatt--components--probe--http_get"></a>
### Nested Schema for `components.probe.http_get`

Required:

- `path` (String) The path to access HTTP server to check probes
- `port` (Number) The port number for accessing HTTP server and checking probes

Optional:

- `headers` (Attributes Set) HTTP headers for probe (see [below for nested schema](#nestedatt--components--probe--http_get--headers))

<a id="nestedatt--components--probe--http_get--headers"></a>
### Nested Schema for `components.probe.http_get.headers`

Required:

- `name` (String) The header field name
- `value` (String) The header field value





<a id="nestedatt--packet_filter"></a>
### Nested Schema for `packet_filter`

Required:

- `enabled` (Boolean)
- `settings` (Attributes List) The list of packet filter rule (see [below for nested schema](#nestedatt--packet_filter--settings))

<a id="nestedatt--packet_filter--settings"></a>
### Nested Schema for `packet_filter.settings`

Required:

- `from_ip` (String) The source IP address of the rule
- `from_ip_prefix_length` (Number) The prefix length (CIDR notation) of the from_ip address, indicating the network size



<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedatt--traffics"></a>
### Nested Schema for `traffics`

Required:

- `percent` (Number) The percentage of traffic dispersion
- `version_index` (Number) The AppRun Shared application version index
