---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "sakura_server Resource - sakura"
subcategory: "Computing"
description: |-
  Manages a Server.
---

# sakura_server (Resource)

Manages a Server.

## Example Usage

```terraform
resource "sakura_server" "foobar" {
  name        = "foobar"
  disks       = [sakura_disk.foobar.id]
  description = "description"
  tags        = ["tag1", "tag2"]

  network_interface = [{
    upstream         = "shared"
    packet_filter_id = data.sakura_packet_filter.foobar.id
  }]

  disk_edit_parameter = {
    hostname = "hostname"
    password_wo = "password"
    password_wo_version = 1
    // for backward compatibility
    //password = "password"
    disable_pw_auth = true

    # ssh_keys    = ["ssh-rsa xxxxx"]
    # ssh_key_ids = ["<ID>", "<ID>"]
    # script = [{
    #  id         = "<ID>"
    #  api_key_id = "<ID>"
    #  variables = {
    #    foo = "bar"
    #  }
    # }]
  }

  # If you use cloud-init instead of disk_edit_parameter

  # user_data = join("\n", [
  #   "#cloud-config",
  #   yamlencode({
  #     hostname: "hostname",
  #     password: "password",
  #     chpasswd: {
  #       expire: false,
  #     }
  #     ssh_pwauth: false,
  #     ssh_authorized_keys: [
  #       file("~/.ssh/id_rsa.pub"),
  #     ],
  #   }),
  # ])
}

data "sakura_packet_filter" "foobar" {
  name = "foobar"
}

data "sakura_archive" "ubuntu" {
  os_type = "ubuntu"
}

resource "sakura_disk" "foobar" {
  name              = "foobar"
  source_archive_id = data.sakura_archive.ubuntu.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the Server.

### Optional

- `cdrom_id` (String) The id of the CD-ROM to attach to the Server
- `commitment` (String) The policy of how to allocate virtual CPUs to the server. This must be one of [`standard`/`dedicatedcpu`]
- `confidential_vm` (Boolean) A flag indicating whether to use a confidential VM
- `core` (Number) The number of virtual CPUs
- `cpu_model` (String) The model of cpu
- `description` (String) The description of the Server. The length of this value must be in the range [`1`-`512`]
- `disk_edit_parameter` (Attributes) (see [below for nested schema](#nestedatt--disk_edit_parameter))
- `disks` (List of String) A list of disk id connected to the server
- `force_shutdown` (Boolean) The flag to use force shutdown when need to reboot/shutdown while applying
- `gpu` (Number) The number of GPUs
- `gpu_model` (String) The model of gpu
- `icon_id` (String) The icon id to attach to the Server
- `interface_driver` (String) The driver name of network interface. This must be one of [`virtio`/`e1000`]
- `memory` (Number) The size of memory in GiB
- `network_interface` (Attributes List) (see [below for nested schema](#nestedatt--network_interface))
- `private_host_id` (String) The id of the PrivateHost which the Server is assigned
- `private_host_name` (String) The id of the PrivateHost which the Server is assigned
- `tags` (Set of String) The tags of the Server.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))
- `user_data` (String) A string representing the user data used by cloud-init. This conflicts with [`disk_edit_parameter`]
- `zone` (String) The name of zone that the Server will be created (e.g. `is1a`, `tk1a`)

### Read-Only

- `dns_servers` (List of String) A list of IP address of DNS server in the zone
- `gateway` (String) The IP address of the gateway used by Server
- `hostname` (String) The hostname of the Server
- `id` (String) The ID of the Server.
- `ip_address` (String) The IP address assigned to the Server
- `netmask` (Number) The bit length of the subnet assigned to the Server
- `network_address` (String) The network address which the `ip_address` belongs

<a id="nestedatt--disk_edit_parameter"></a>
### Nested Schema for `disk_edit_parameter`

Optional:

- `change_partition_uuid` (Boolean) The flag to change partition uuid
- `disable_pw_auth` (Boolean) The flag to disable password authentication
- `enable_dhcp` (Boolean) The flag to enable DHCP client
- `gateway` (String) The gateway address used by the Server
- `hostname` (String) The hostname of the Server. The length of this value must be in the range [`1`-`64`]
- `ip_address` (String) The IP address to assign to the Server
- `netmask` (Number) The bit length of the subnet to assign to the Server
- `password` (String, Sensitive) The password of default user. The length of this value must be in the range [`12`-`128`]. Use password_wo instead for newer deployments.
- `password_wo` (String, [Write-only](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments)) The password of default user. The length of this value must be in the range [`12`-`128`]
- `password_wo_version` (Number) The version of the password_wo field. This value must be greater than 0 when set. Increment this when changing password.
- `script` (Attributes List) A list of the StartupScript (see [below for nested schema](#nestedatt--disk_edit_parameter--script))
- `ssh_key_ids` (Set of String) A set of the SSHKey id
- `ssh_keys` (Set of String) A set of the SSHKey text

<a id="nestedatt--disk_edit_parameter--script"></a>
### Nested Schema for `disk_edit_parameter.script`

Required:

- `id` (String) The id of the script

Optional:

- `api_key_id` (String) The id of the API key to be injected into script when editing the disk
- `variables` (Map of String) The value of the variable that be injected into script when editing the disk



<a id="nestedatt--network_interface"></a>
### Nested Schema for `network_interface`

Required:

- `upstream` (String) The upstream type or upstream switch id. This must be one of [`shared`/`disconnect`/`<switch id>`]

Optional:

- `packet_filter_id` (String) The id of the packet filter to attach to the network interface
- `user_ip_address` (String) The IP address for only display. This value doesn't affect actual NIC settings

Read-Only:

- `mac_address` (String) The MAC address


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
