---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "sakura_apigw_service Resource - sakura"
subcategory: "Application Integration"
description: |-
  Manage an API Gateway Service.
---

# sakura_apigw_service (Resource)

Manage an API Gateway Service.

## Example Usage

```terraform
data "sakura_apigw_subscription" "foobar" {
  name = "test"
}

resource "sakura_apigw_service" "foobar" {
  name     = "foobar"
  tags     = ["tag1", "tag2"]
  protocol = "https"
  host     = "foobar.example.com"
  subscription_id = data.sakura_apigw_subscription.foobar.id
  /* CORS settings
  cors_config = {
    access_control_allow_methods = ["GET", "POST", "OPTIONS"]
    access_control_allow_headers = "*"
    max_age = 3600
  }
  */
  /* Integration with object storage
  object_storage_config = {
    bucket = "test"
    region = data.sakura_object_storage_site.foobar.region
    endpoint = data.sakura_object_storage_site.foobar.s3_endpoint
    access_key_wo = "your-access-key"
    secret_access_key_wo = "your-secret-access-key"
    credentials_wo_version = 1
  }
  */
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `host` (String) The host name of the backend.
- `name` (String) The name of the API Gateway Service.
- `protocol` (String) The protocol used by the backend (http or https)
- `subscription_id` (String) The subscription plan ID associated with the service

### Optional

- `authentication` (String) Authentication method for the backend. This can be one of `none`/`basic`/`hmac`/`jwt`/`oidc`.
- `connect_timeout` (Number) Connect timeout in milliseconds for the backend
- `cors_config` (Attributes) CORS configuration for the service (see [below for nested schema](#nestedatt--cors_config))
- `object_storage_config` (Attributes) Object Storage configuration used by the service (see [below for nested schema](#nestedatt--object_storage_config))
- `oidc` (Attributes) OIDC authentication configuration (see [below for nested schema](#nestedatt--oidc))
- `path` (String) The base path for the backend
- `port` (Number) The port of the backend
- `read_timeout` (Number) Read timeout in milliseconds for the backend
- `retries` (Number) The number of retries for backend requests
- `tags` (Set of String) The tags of the API Gateway Service.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))
- `write_timeout` (Number) Write timeout in milliseconds for the backend

### Read-Only

- `created_at` (String) The creation timestamp of the API Gateway Service
- `id` (String) The ID of the API Gateway Service.
- `route_host` (String) The route host for the service
- `updated_at` (String) The last update timestamp of the API Gateway Service

<a id="nestedatt--cors_config"></a>
### Nested Schema for `cors_config`

Optional:

- `access_control_allow_headers` (String) Allowed request headers
- `access_control_allow_methods` (Set of String) Allowed HTTP methods for CORS
- `access_control_allow_origins` (String) Allowed origins for CORS
- `access_control_exposed_headers` (String) Headers exposed to the client
- `credentials` (Boolean) Whether to allow credentials
- `max_age` (Number) Max age for CORS
- `preflight_continue` (Boolean) Whether to pass preflight result to next handler
- `private_network` (Boolean) Whether to restrict CORS to private network


<a id="nestedatt--object_storage_config"></a>
### Nested Schema for `object_storage_config`

Required:

- `access_key_wo` (String, [Write-only](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments)) Access key for object storage
- `bucket` (String) The bucket name
- `endpoint` (String) The object storage endpoint
- `region` (String) The object storage region
- `secret_access_key_wo` (String, [Write-only](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments)) Secret access key for object storage

Optional:

- `credentials_wo_version` (Number) The version of the credentials. This value must be greater than 0 when set. Increment this when changing credentials
- `folder` (String) The folder name within the bucket
- `use_document_index` (Boolean) Whether to use document index for object storage


<a id="nestedatt--oidc"></a>
### Nested Schema for `oidc`

Required:

- `id` (String) The entity ID of OIDC authentication

Read-Only:

- `name` (String) The name of the OIDC authentication


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
