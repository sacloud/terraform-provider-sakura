---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "sakura_apigw_route Resource - sakura"
subcategory: "Application Integration"
description: |-
  Get information about an existing API Gateway Route.
---

# sakura_apigw_route (Resource)

Get information about an existing API Gateway Route.

## Example Usage

```terraform
data "sakura_apigw_service" "foobar" {
  name = "foobar"
}

data "sakura_apigw_group" "foobar" {
  name = "foobar"
}

resource "sakura_apigw_route" "foobar" {
  name       = "foobar"
  tags       = ["tag1"]
  service_id = data.sakura_apigw_service.foobar.id
  protocols  = "http,https"
  methods    = ["GET", "POST", "PUT", "HEAD"]
  ip_restriction = {
    protocols = "http,https"
    restricted_by = "allowIps"
    ips = ["192.168.0.1"]
  }
  groups = [{
    id = data.sakura_apigw_group.foobar.id,
    enabled = true
  }]
  request_transformation = {
    http_method = "GET",
    allow = {
      body = ["foo"],
    },
    rename = {
      headers = [{
        from = "X-Old-Header",
        to   = "X-New-Header"
      }]
      query_params = [{
        from = "old_param",
        to   = "new_param"
      }]
      body = [{
        from = "old_body",
        to   = "new_body"
      }]
    },
    // other conditions...
  }
  response_transformation = {
    allow = {
      json_keys = ["foo"],
    },
    remove = {
      if_status_code = [426]
      header_keys = ["X-Remove-Header"],
      json_keys = ["remove_param"],
    },
    add = {
      if_status_code = [426]
      headers = [{
        key   = "X-Old-Header",
        value = "X-New-Header"
      }]
      json = [{
        key   = "old_param",
        value = "new_param"
      }]
    },
    // other conditions...
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the API Gateway Route.
- `protocols` (String) The protocols supported by the Route
- `service_id` (String) The Service ID associated with the API Gateway Route

### Optional

- `groups` (Attributes List) Groups associated with the user (see [below for nested schema](#nestedatt--groups))
- `hosts` (List of String) The list of hosts. Auto-issued host or API Gateway Domain can be used.
- `https_redirect_status_code` (Number) The HTTPS redirect status code
- `ip_restriction` (Attributes) IP restriction configuration for the user (see [below for nested schema](#nestedatt--ip_restriction))
- `methods` (Set of String) HTTP methods to access the Route
- `path` (String) The path to access the Route. '/' or '~' prefix is required
- `preserve_host` (Boolean) Whether to preserve the original Host header
- `regex_priority` (Number) The regex priority
- `request_buffering` (Boolean) Whether to enable request buffering
- `request_transformation` (Attributes) Request transform configuration (headers, query params, body transformations) (see [below for nested schema](#nestedatt--request_transformation))
- `response_buffering` (Boolean) Whether to enable response buffering
- `response_transformation` (Attributes) Response transform configuration (conditionals by status code, header/json/body transformations) (see [below for nested schema](#nestedatt--response_transformation))
- `strip_path` (Boolean) Whether to strip the matching route path from the upstream request URL
- `tags` (Set of String) The tags of the API Gateway Route.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `created_at` (String) The creation timestamp of the API Gateway Route
- `host` (String) The auto-issued host when hosts is not specified
- `id` (String) The ID of the API Gateway Route.
- `updated_at` (String) The last update timestamp of the API Gateway Route

<a id="nestedatt--groups"></a>
### Nested Schema for `groups`

Required:

- `id` (String) ID of the API Gateway Group

Optional:

- `enabled` (Boolean) Whether the authorization of this group is enabled

Read-Only:

- `name` (String) Name of the API Gateway Group


<a id="nestedatt--ip_restriction"></a>
### Nested Schema for `ip_restriction`

Required:

- `ips` (Set of String) The IPv4 addresses to be restricted
- `protocols` (String) The protocols to restrict
- `restricted_by` (String) The category to restrict by


<a id="nestedatt--request_transformation"></a>
### Nested Schema for `request_transformation`

Required:

- `http_method` (String) HTTP method (e.g. GET)

Optional:

- `add` (Attributes) Add key/value pairs to request (see [below for nested schema](#nestedatt--request_transformation--add))
- `allow` (Attributes) Allow list (see [below for nested schema](#nestedatt--request_transformation--allow))
- `append` (Attributes) Append values to existing keys (see [below for nested schema](#nestedatt--request_transformation--append))
- `remove` (Attributes) Fields to remove from the request (see [below for nested schema](#nestedatt--request_transformation--remove))
- `rename` (Attributes) Rename request fields (from -> to) (see [below for nested schema](#nestedatt--request_transformation--rename))
- `replace` (Attributes) Replace values for keys (see [below for nested schema](#nestedatt--request_transformation--replace))

<a id="nestedatt--request_transformation--add"></a>
### Nested Schema for `request_transformation.add`

Optional:

- `body` (Attributes List) (see [below for nested schema](#nestedatt--request_transformation--add--body))
- `headers` (Attributes List) (see [below for nested schema](#nestedatt--request_transformation--add--headers))
- `query_params` (Attributes List) (see [below for nested schema](#nestedatt--request_transformation--add--query_params))

<a id="nestedatt--request_transformation--add--body"></a>
### Nested Schema for `request_transformation.add.body`

Required:

- `key` (String) The target key
- `value` (String) The value for the key


<a id="nestedatt--request_transformation--add--headers"></a>
### Nested Schema for `request_transformation.add.headers`

Required:

- `key` (String) The target key
- `value` (String) The value for the key


<a id="nestedatt--request_transformation--add--query_params"></a>
### Nested Schema for `request_transformation.add.query_params`

Required:

- `key` (String) The target key
- `value` (String) The value for the key



<a id="nestedatt--request_transformation--allow"></a>
### Nested Schema for `request_transformation.allow`

Optional:

- `body` (Set of String) List of body fields to allow


<a id="nestedatt--request_transformation--append"></a>
### Nested Schema for `request_transformation.append`

Optional:

- `body` (Attributes List) (see [below for nested schema](#nestedatt--request_transformation--append--body))
- `headers` (Attributes List) (see [below for nested schema](#nestedatt--request_transformation--append--headers))
- `query_params` (Attributes List) (see [below for nested schema](#nestedatt--request_transformation--append--query_params))

<a id="nestedatt--request_transformation--append--body"></a>
### Nested Schema for `request_transformation.append.body`

Required:

- `key` (String) The target key
- `value` (String) The value for the key


<a id="nestedatt--request_transformation--append--headers"></a>
### Nested Schema for `request_transformation.append.headers`

Required:

- `key` (String) The target key
- `value` (String) The value for the key


<a id="nestedatt--request_transformation--append--query_params"></a>
### Nested Schema for `request_transformation.append.query_params`

Required:

- `key` (String) The target key
- `value` (String) The value for the key



<a id="nestedatt--request_transformation--remove"></a>
### Nested Schema for `request_transformation.remove`

Optional:

- `body` (Set of String) Body fields to remove
- `header_keys` (Set of String) Header keys to remove
- `query_params` (Set of String) Query parameter names to remove


<a id="nestedatt--request_transformation--rename"></a>
### Nested Schema for `request_transformation.rename`

Optional:

- `body` (Attributes List) (see [below for nested schema](#nestedatt--request_transformation--rename--body))
- `headers` (Attributes List) (see [below for nested schema](#nestedatt--request_transformation--rename--headers))
- `query_params` (Attributes List) (see [below for nested schema](#nestedatt--request_transformation--rename--query_params))

<a id="nestedatt--request_transformation--rename--body"></a>
### Nested Schema for `request_transformation.rename.body`

Required:

- `from` (String) Source name to rename from
- `to` (String) Destination name to rename to


<a id="nestedatt--request_transformation--rename--headers"></a>
### Nested Schema for `request_transformation.rename.headers`

Required:

- `from` (String) Source name to rename from
- `to` (String) Destination name to rename to


<a id="nestedatt--request_transformation--rename--query_params"></a>
### Nested Schema for `request_transformation.rename.query_params`

Required:

- `from` (String) Source name to rename from
- `to` (String) Destination name to rename to



<a id="nestedatt--request_transformation--replace"></a>
### Nested Schema for `request_transformation.replace`

Optional:

- `body` (Attributes List) (see [below for nested schema](#nestedatt--request_transformation--replace--body))
- `headers` (Attributes List) (see [below for nested schema](#nestedatt--request_transformation--replace--headers))
- `query_params` (Attributes List) (see [below for nested schema](#nestedatt--request_transformation--replace--query_params))

<a id="nestedatt--request_transformation--replace--body"></a>
### Nested Schema for `request_transformation.replace.body`

Required:

- `key` (String) The target key
- `value` (String) The value for the key


<a id="nestedatt--request_transformation--replace--headers"></a>
### Nested Schema for `request_transformation.replace.headers`

Required:

- `key` (String) The target key
- `value` (String) The value for the key


<a id="nestedatt--request_transformation--replace--query_params"></a>
### Nested Schema for `request_transformation.replace.query_params`

Required:

- `key` (String) The target key
- `value` (String) The value for the key




<a id="nestedatt--response_transformation"></a>
### Nested Schema for `response_transformation`

Optional:

- `add` (Attributes) Add key/value pairs to response (see [below for nested schema](#nestedatt--response_transformation--add))
- `allow` (Attributes) Allow list (see [below for nested schema](#nestedatt--response_transformation--allow))
- `append` (Attributes) Append values to existing keys in response (see [below for nested schema](#nestedatt--response_transformation--append))
- `remove` (Attributes) Fields to remove from the response (see [below for nested schema](#nestedatt--response_transformation--remove))
- `rename` (Attributes) Rename response fields (from -> to) (see [below for nested schema](#nestedatt--response_transformation--rename))
- `replace` (Attributes) Replace values for keys or body (see [below for nested schema](#nestedatt--response_transformation--replace))

<a id="nestedatt--response_transformation--add"></a>
### Nested Schema for `response_transformation.add`

Optional:

- `headers` (Attributes List) (see [below for nested schema](#nestedatt--response_transformation--add--headers))
- `if_status_code` (Set of Number) Apply only for these HTTP status codes
- `json` (Attributes List) (see [below for nested schema](#nestedatt--response_transformation--add--json))

<a id="nestedatt--response_transformation--add--headers"></a>
### Nested Schema for `response_transformation.add.headers`

Required:

- `key` (String) The target key
- `value` (String) The value for the key


<a id="nestedatt--response_transformation--add--json"></a>
### Nested Schema for `response_transformation.add.json`

Required:

- `key` (String) The target key
- `value` (String) The value for the key



<a id="nestedatt--response_transformation--allow"></a>
### Nested Schema for `response_transformation.allow`

Optional:

- `json_keys` (Set of String) List of JSON keys to allow


<a id="nestedatt--response_transformation--append"></a>
### Nested Schema for `response_transformation.append`

Optional:

- `headers` (Attributes List) (see [below for nested schema](#nestedatt--response_transformation--append--headers))
- `if_status_code` (Set of Number) Apply only for these HTTP status codes
- `json` (Attributes List) (see [below for nested schema](#nestedatt--response_transformation--append--json))

<a id="nestedatt--response_transformation--append--headers"></a>
### Nested Schema for `response_transformation.append.headers`

Required:

- `key` (String) The target key
- `value` (String) The value for the key


<a id="nestedatt--response_transformation--append--json"></a>
### Nested Schema for `response_transformation.append.json`

Required:

- `key` (String) The target key
- `value` (String) The value for the key



<a id="nestedatt--response_transformation--remove"></a>
### Nested Schema for `response_transformation.remove`

Optional:

- `header_keys` (Set of String) Header keys to remove
- `if_status_code` (Set of Number) Apply only for these HTTP status codes
- `json_keys` (Set of String) JSON keys to remove from the response body


<a id="nestedatt--response_transformation--rename"></a>
### Nested Schema for `response_transformation.rename`

Optional:

- `headers` (Attributes List) (see [below for nested schema](#nestedatt--response_transformation--rename--headers))
- `if_status_code` (Set of Number) Apply only for these HTTP status codes

<a id="nestedatt--response_transformation--rename--headers"></a>
### Nested Schema for `response_transformation.rename.headers`

Required:

- `from` (String) Source name to rename from
- `to` (String) Destination name to rename to



<a id="nestedatt--response_transformation--replace"></a>
### Nested Schema for `response_transformation.replace`

Optional:

- `body` (String) Replace whole response body with this string
- `headers` (Attributes List) (see [below for nested schema](#nestedatt--response_transformation--replace--headers))
- `if_status_code` (Set of Number) Apply only for these HTTP status codes
- `json` (Attributes List) (see [below for nested schema](#nestedatt--response_transformation--replace--json))

<a id="nestedatt--response_transformation--replace--headers"></a>
### Nested Schema for `response_transformation.replace.headers`

Required:

- `key` (String) The target key
- `value` (String) The value for the key


<a id="nestedatt--response_transformation--replace--json"></a>
### Nested Schema for `response_transformation.replace.json`

Required:

- `key` (String) The target key
- `value` (String) The value for the key




<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
