---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "sakura_dsr_lb Resource - sakura"
subcategory: "Networking"
description: |-
  Manage a DSR LB (load_balancer in v2).
---

# sakura_dsr_lb (Resource)

Manage a DSR LB (load_balancer in v2).

## Example Usage

```terraform
resource "sakura_vswitch" "foobar" {
  name = "foobar"
}

resource "sakura_dsr_lb" "foobar" {
  name        = "foobar"
  description = "description"
  tags        = ["tag1", "tag2"]

  plan = "standard"

  network_interface = {
    vswitch_id   = sakura_vswitch.foobar.id
    vrid         = 1
    ip_addresses = ["192.168.11.101"]
    netmask      = 24
    gateway      = "192.168.11.1"
  }

  vip = [{
    vip          = "192.168.11.201"
    port         = 80
    delay_loop   = 10
    sorry_server = "192.168.11.21"

    server = [{
      ip_address = "192.168.11.51"
      protocol   = "http"
      path       = "/health"
      status     = 200
    },{
      ip_address = "192.168.11.52"
      protocol   = "http"
      path       = "/health"
      status     = 200
    }]
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the DSR LB.
- `network_interface` (Attributes) Network interface for DSR LB (see [below for nested schema](#nestedatt--network_interface))

### Optional

- `description` (String) The description of the DSR LB. The length of this value must be in the range [`1`-`512`]
- `icon_id` (String) The icon id to attach to the DSR LB
- `plan` (String) The plan name of the DSR LB. This must be one of [`standard`/`highspec`]
- `tags` (Set of String) The tags of the DSR LB.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))
- `vip` (Attributes List) (see [below for nested schema](#nestedatt--vip))
- `zone` (String) The name of zone that the DSR LB will be created (e.g. `is1a`, `tk1a`)

### Read-Only

- `id` (String) The ID of the DSR LB.

<a id="nestedatt--network_interface"></a>
### Nested Schema for `network_interface`

Required:

- `ip_addresses` (List of String) A list of IP address to assign to the DSR LB.
- `netmask` (Number) The bit length of the subnet assigned to the DSR LB. This must be in the range [`8`-`29`]
- `vrid` (Number) The Virtual Router Identifier
- `vswitch_id` (String) The id of the vSwitch to which the DSR LB connects

Optional:

- `gateway` (String) The IP address of the gateway used by the DSR LB.


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedatt--vip"></a>
### Nested Schema for `vip`

Required:

- `port` (Number) The target port number for load-balancing. This must be in the range [`1`-`65535`]
- `vip` (String) The virtual IP address

Optional:

- `delay_loop` (Number) The interval in seconds between checks. This must be in the range [`10`-`2147483647`]
- `description` (String) The description of the LoadBalancer's VIP. The length of this value must be in the range [`1`-`512`]
- `server` (Attributes List) (see [below for nested schema](#nestedatt--vip--server))
- `sorry_server` (String) The IP address of the SorryServer. This will be used when all servers under this VIP are down

<a id="nestedatt--vip--server"></a>
### Nested Schema for `vip.server`

Required:

- `ip_address` (String) The IP address of the destination server
- `protocol` (String) The protocol used for health checks. This must be one of [`http`/`https`/`tcp`/`ping`]

Optional:

- `connect_timeout` (Number) The timeout in seconds for health checks, available only for TCP/HTTP/HTTPS
- `enabled` (Boolean) The flag to enable as destination of load balancing
- `path` (String) The path used when checking by HTTP/HTTPS
- `retry` (Number) The retry count for server down detection, available only for TCP/HTTP/HTTPS
- `status` (Number) The response code to expect when checking by HTTP/HTTPS
